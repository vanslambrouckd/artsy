<html>
<body>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">


<link rel="stylesheet" href="css/style.css" type="text/css" />

<style type="text/css">
.size { position:relative }
.size .field {
	width:300px; 
	background:#EC6603; color:#fff; 
	padding:5px; 
	border:none; 
	cursor:pointer;
	font-family:'lucida sans unicode',sans-serif; font-size:1em;
	border:solid 1px #EC6603;
	-webkit-transition: all .4s ease-in-out;
	transition: all .4s ease-in-out;
}
.size .field:hover {
	border:solid 1px #fff;
	-moz-box-shadow:0 0 5px #999; 
	-webkit-box-shadow:0 0 5px #999; 
	box-shadow:0 0 5px #999
}
.size>ul.list { display:none;
	position:absolute; 
	left:0px; 
	top:30px;
	z-index:999;
	width:300px;
	margin:0; 
	padding:10px; 
	list-style:none;
	background:#fff; color:#333;
	-moz-border-radius:5px;
	-webkit-border-radius:5px;
	border-radius:5px;
	-moz-box-shadow:0 0 5px #999;
	-webkit-box-shadow:0 0 5px #999;
	box-shadow:0 0 5px #999
}
.size>ul.list li {
	padding:10px;
	border-bottom: solid 1px #ccc;
}
.size>ul.list li:hover {
	background:#EC6603; color:#fff;
}
.size>ul.list li:last-child { border:none }
</style> 

<script src="js/jquery-2.1.1.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="js/bootstrap.min.js"></script>

<script src="js/underscore-min.js"></script>
<script src="js/flowtip.js"></script>
<script src="js/backbone-min.js"></script>
<script src="js/backbone.paginator.js"></script>
<script src="js/vendor/backbone.marionette/backbone.marionette.min.js"></script>
 
	<script src="js/frontend/ui.js"></script>

 
<script src="js/pubsub.js"></script>
<script src="js/api.js"></script>
<script src="js/app.js"></script>
<script src="js/models/artist.js"></script>
<script src="js/views/artist.js"></script>
<script>
$.fn.styleddropdown = function(){
	return this.each(function(){
	var obj = $(this)
	obj.find('.field').click(function() { //onclick event, 'list' fadein
	obj.find('.list').fadeIn(400);
	
	$(document).keyup(function(event) { //keypress event, fadeout on 'escape'
		if(event.keyCode == 27) {
		obj.find('.list').fadeOut(400);
		}
	});
	
	obj.find('.list').hover(function(){ },
		function(){
			$(this).fadeOut(400);
		});
	});
	
	obj.find('.list li').click(function() { //onclick event, change field value with selected 'list' item and fadeout 'list'
	obj.find('.field')
		.val($(this).html())
		.css({
			'background':'#fff',
			'color':'#333'
		});
	obj.find('.list').fadeOut(400);
	});
});
};


function Tooltip(options) {
	self = this;
	this.options = options;
	this.$el = this.options.el;
	this.$container = this.options.container;
	/*
	this.$el = options.el;
	this.$el.find('ul').hide();
	*/
	console.log(this.options.name);
	this.show = function() {
		console.log('show');
		this.$el.show();
	}

	this.hide = function() {
		console.log('hide');
		this.$el.hide();
	}

	this.test = function() {
		return this.options.name;
	}

	this.$container.on('click', function(event) {
		event.preventDefault();
		console.log(self.options.name);
		console.log(self.$container);
		
		/*
		console.log(self.$el.is(':visible'));
		if (self.$el.is(':visible')) {
			self.hide();
		} else {
			self.show();

		}
		*/
	});
}

function Car(model, year, miles) { 
	this.model = model;
	this.year = year;
	this.miles = miles;

	
	this.test = function() {
		return this.model + " has done " + this.miles + " miles";
	}
	
}

/*
Car.prototype.test = function() {
	return this.model;	
}
*/

/*
var Tooltip = {
	$obj: null,
	Tooltip: function(options) {
		this.$obj = options.el;
	}
}
*/
/*
function Plugin(el, options) {
	this.$el = el;
	this.options = options;
	//console.log(options);
	
	
	this.name = name;
	self = this;
	
	$el = $(el);
	$el.on('click', function(event) {
	
		console.log(self.options);
	});
}
*/

;(function($) {
	//gebaseerd op https://github.com/VodkaBears/Remodal/blob/master/src/jquery.remodal.js
	var pluginName = 'remodal'

	$[pluginName] = {
		lookup:[]
	}

	function Remodal($elem, options) {
		var remodal = this;
		console.log(this);
		remodal.settings = options;
		remodal.index = $[pluginName].lookup.push(remodal)-1;
	}

	Remodal.prototype.open = function() {
		var remodal = this;
		console.log(remodal);
	}

	/* plugin constructor */
	$.fn[pluginName] = function(opts) {
		var instance;
		var $elem;

		this.each(function(index, elem) {
			$elem = $(elem);

			if ($elem.data(pluginName) == null) {
				instance = new Remodal($elem, opts);
				$elem.data(pluginName, instance.index);
			}
		});

		return instance;
	}
})(window.jQuery);

$.fn.newPlugin = function(options) {
	var argumentsArray = Array.prototype.slice.call(arguments, 0);
	//console.log(argumentsArray);

	var settings = $.extend({
		name: ''
	}, options);
	return this.each(function() {
		var $el = $(this);
		var data = $(this).data('opts');

		if (!data) {
			//console.log(argumentsArray[0]);
			data = argumentsArray[0];
		}
		/*
		if ($el.data('opts')) {
			console.log('al initialized');
			return;	
		}
		*/
		//console.log(data);
		$el.data('opts', data);
		//new Plugin(this, argumentsArray[0], argumentsArray[1]);
		//new Plugin(this, data);
		//Plugin.apply(this, data);
	});
};

$(document).ready(function() {
	//$('.size').styleddropdown();
	/*
$('#link1').newPlugin({'name': 'david'});
$('#link2').newPlugin({'name': 'david2'});
*/

var inst = $('#link1').remodal({naam: 'item1'});
inst.open();
console.log(inst.settings.naam);


var inst2 = $('#link2').remodal({naam: 'item2'});
inst2.open();
console.log(inst2.settings.naam);

var civic = new Car("Honda Civic", 2009, 20000); 
var mondeo = new Car("Ford Mondeo", 2010, 5000);
console.log(civic.test());
console.log(mondeo.test());

	/*
	var opts = {
		el: $('#size .list'),
		container: $('#size'),
		name: 'item1',
	}
	tooltip = new Tooltip(opts);

	tooltip2 = new Tooltip({
		el: $('#size2 .list'),
		container: $('#size2'),
		name:'item2'
	});
	*/
	//console.log(tooltip.test());
	//console.log(tooltip2.test());

	//console.log(tooltip);
	
	//$('#size').on('click', tooltip.show());
	$('#size').on('click', function(event) {
		//tooltip.show();
	});
	
});
</script>

<a id="link1">link1</a>
<a id="link2">link2</a>

<div id="size" class="size">
	<input type="text" name="test" value="choose your size" class="field" readonly="readonly" />
	<ul class="list">
		<li>Male - M</li>
		<li>Female - M</li>
		<li>Male - S</li>
		<li>Female - S</li>
	</ul>
</div>

<div id="size2" class="size" style="margin-top:200px;">
	<input type="text" name="test" value="choose your size" class="field" readonly="readonly" />
	<ul class="list">
		<li>Male - M</li>
		<li>Female - M</li>
		<li>Male - S</li>
		<li>Female - S</li>
	</ul>
</div>

</body>
</html>